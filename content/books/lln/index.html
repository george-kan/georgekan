---
title: The Law of Large Numbers
date: '2021-12-08'
slug: []
categories: []
tags:
  - statistics
subtitle: ''
excerpt: ''
draft: yes
series: ~
layout: single
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>


<div id="introduction" class="section level3">
<h3>Introduction</h3>
<p>I decided after years of struggling with remembering statistical concepts that I have to try to explain them so that:<br />
1. I am forced to understand them better üòÑ<br />
2. Anybody can read and comment useful ideas that I might have missed<br />
3. I will be able to come back to my explanation once I forget the concept</p>
<p>Please note that this is not a very math heavy collection of posts, my goal is to get a better intuitive understanding of the concepts.<br />
With all that being said, this is the first post in my statistics series and it is about the <strong>Law of Large Numbers!</strong></p>
</div>
<div id="definition" class="section level3">
<h3>Definition</h3>
<p><strong>The average of the results obtained from a large number of trials should be close to the expected value and will tend to become closer to the expected value as more trials are performed</strong></p>
<p>Let‚Äôs try to map the words in the definition to mathematical constructions.</p>
<p><span style="color:purple"> Large number of trials </span></p>
<p>Here we assume that we are doing multiple trials coming from the same underlying probability distribution.</p>
<p>We can model these trials as n random variables:
<span class="math display">\[ X_1, X_2, ..., X_n \]</span></p>
<p>These variables are identically distributed (so all follow the same distribution) and they are independent (knowledge about the outcome of one of them does not provide any information about the others). More trials means higher <code>n</code>.</p>
<p><span style="color:purple"> Average of the results </span></p>
<p>The mathematical representation of the average of the results is the sample mean or sample average:
<span class="math display">\[ \overline{X_n} = \frac {X_1 + X_2+...+X_n} n \]</span></p>
<p><span style="color:purple"> Expected value </span></p>
<p>The <a href="https://en.wikipedia.org/wiki/Expected_value">expected value</a> of a random variable can be thought of intuitively as the arithmetic mean of a large number of independent realizations of X. (This is not the topic of this post so I will not go into more detail)<br />
The expectation of our random variables is the following:</p>
<p><span class="math display">\[ E[X_1] = E[X_2] = ... = E[X_n] = E[X] = \mu \]</span></p>
<p>Unfortunately, in many scenarios we do not know what value Œº takes therefore we need something to estimate it.<br />
This is where the Law of Large Numbers comes in and tells us that the sample mean should be close to the expected value and this ‚Äúcloseness‚Äù increases with the number of trials.<br />
Stated in a mathematical formulation:</p>
<p><span class="math display">\[ \overline{X_n} \xrightarrow[n\rarr \infty]{P} E[X] \]</span></p>
</div>
<div id="in-action" class="section level3">
<h3>In action</h3>
<p>We are going to see three examples of the Law of Large Numbers for the following three distributions:<br />
1. Standard normal (Continuous random variable)<br />
2. Binomial (Discrete random variable)<br />
3. My own distribution (I have not coined it yet but it‚Äôs happening! üòÑ) (Mixed random variable)</p>
<p><strong>1. Trials from a standard normal distribution</strong></p>
<p>In our first example, we assume the following:</p>
<p><span class="math display">\[ X_1, X_2, ..., X_n \thicksim N(0,1)\ i.i.d.\]</span></p>
<p>Just as a reminder, this is what the standard normal looks like:</p>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>We perform 500 trials from this distribution. Let‚Äôs see how the sample mean changes as the number of trials increases.</p>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-4-1.gif" /><!-- --></p>
<p>In the annimated chart above we can see how the sample average changes as trials increase. At the beginning it is far from the expected value (marked in green) but as the number of trials grows larger it gets closer and closer.</p>
<p><strong>2. Unbiased coin flip</strong></p>
<p>The next example is a very typical one, it is the toss of an unbiased coin.
In particular, we model the toss of an unbiased coin by using a Bernoulli distribution with the following mapping:</p>
<ul>
<li>Heads: The outcome of the Bernoulli is 1<br />
</li>
<li>Tails: The outcome of the Bernoulli is 0</li>
</ul>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-5-1.png" width="768" /></p>
<p>The expected value of an unbiased coin toss is 0.5 or equivalently phrased you expect to get half heads and half tails.
Mathematically, we assume the following:</p>
<p><span class="math display">\[ X_1, X_2, ..., X_n \thicksim Ber(0.5)\ i.i.d.\]</span></p>
<p>We perform 500 trials from this distribution. Let‚Äôs see how the sample mean changes as the number of trials increases.</p>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-7-1.gif" /><!-- --></p>
<p>Again we see that as the number of trials increases, the sample mean approaches the expected value.</p>
<p><strong>3. Random distribution I came up with</strong></p>
<p>As a last example, we are going to illustrate the Law of Large numbers for an arbitrary distribution that I came up with.<br />
Let‚Äôs make this even more interesting and pick a mixed distribution. Just as a reminder, a mixed distribution is a distribution that is neither continuous nor discrete. In some parts, it is continuous and in some parts it is discrete.</p>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>As we can see from the plot above, the ‚ÄòGeorge‚Äô distribution consists of the following two parts:</p>
<ol style="list-style-type: decimal">
<li>Continuous: We have a uniform from 0 to 1 with a height of 0.25</li>
<li>Discrete: There is a 0.75 probability that a sample from the ‚ÄòGeorge‚Äô will take a value of 1.5</li>
</ol>
<p>It‚Äôs a good idea to check if the total probability sums to 1:</p>
<p><span class="math display">\[ Total\ probability = 0.25*1 (rectangle\ area) + 0.75 = 1\]</span></p>
<p>We perform again 500 trials from this distribution. Let‚Äôs see how the sample mean changes as the number of trials increases.</p>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-10-1.gif" /><!-- --></p>
<p><span style="color:red">Ok clearly something went terribly wrong! Here I have been plotting throughout this blog showing you that the red line eventually gets really really close to the green one but clearly it is not the case!</span><br />
Did I miscalculate the expectation of my own distribution or is the Law of Large Numbers a hoax?</p>
<p>Surprisingly neither!</p>
<p>The Law of Large Numbers does not state anything about the speed of convergence. It only states that as the number of trials gets larger, the sample mean will get closer and closer to the expectated value.<br />
Let‚Äôs try it again but with a higher number of trials this time:</p>
<p><img src="{{< blogdown/postref >}}index_files/figure-html/unnamed-chunk-12-1.gif" /><!-- --></p>
<p>We can clearly see that it took longer for the sample mean to reach the expected value in my distribution but it did reach it nonetheless!</p>
<p><strong>Law of Large Numbers vindicated!</strong></p>
</div>
<div id="why-is-this-cool" class="section level3">
<h3>Why is this cool?</h3>
<p>The Law of Large Numbers is a fundamental building block of statistics, as it allows us to substitute the expectation with an average. There are many scenarios where we know nothing about the expectation of a distribution we are interested in but we can use the law to estimate it.</p>
</div>
